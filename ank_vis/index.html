<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="d3.v2.min.js"></script>

  <style type="text/css">
    circle {
      fill: steelblue;
    }


     .chart div {
   font: 10px sans-serif;
   background-color: steelblue;
   text-align: right;
   padding: 3px;
   margin: 1px;
   color: white;
 }
  </style>

  </head>
  <body>
    <script type="text/javascript">

  var chart = d3.select("body").append("svg")
     .attr("class", "chart")
     .attr("width", 1000)
     .attr("height", 1000);

     var icon = function(d) {
       return "router.jpg";
     }

  d3.json(
  'data/ip',
  function (jsondata) {

    // create the chart here with
    // the returned data

    console.log(jsondata);
    console.log(jsondata.nodes);

    chart.selectAll("image")
      .data(jsondata.nodes)
      .enter().append("image")
      .attr("x", function(d) { return d.x; })
      .attr("y", function(d) { return d.y; })
      .attr("xlink:href", icon)
      .attr("width", 64)
      .attr("height", 64);
      

  chart.selectAll("text")
      .data(jsondata.nodes)
    .enter().append("text")
      .attr("x", function(d) { return d.x; })
      .attr("y", function(d) { return d.y; } )
      .attr("dx", 32) // padding-right
      .attr("dy", 72) // vertical-align: middle
      .attr("text-anchor", "middle") // text-align: right
      .text(function (d) { return d.id; } );

  });

    </script>
  </body>
</html>
